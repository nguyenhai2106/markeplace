{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="container-fluid border-top p-4">
        {% include 'includes/search.html' %}
        <div class="container">
            <h5 class="text-primary-emphasis text-center mb-5">Đã tìm thấy {{ vendor_count }} cửa hàng</h5>
            <div class="row gap-3">
                {% for vendor in vendors %}
                    {% if vendor.user_profile.profile_picture %}
                        <div class="card col-4 d-flex flex-column justify-content-between p-3" style="width: 18rem;">
                            <div class="d-flex justify-content-center"
                                 style="height: 250px; overflow: hidden;">
                                <img src="{{ vendor.user_profile.profile_picture.url }}" class="card-img-top img-fluid"
                                     alt="{{ vendor.vendor_name }}"
                                     title="{{ vendor.vendor_name }}">
                            </div>
                            <div class="card-body px-0">
                                <a class="text-decoration-none"
                                   href="{% url 'vendor_detail' vendor_slug=vendor.vendor_slug category_slug='all' %}">


                                    <h5 class="card-title text-primary-emphasis">{{ vendor.vendor_name }}</h5>
                                </a>
                                <p class="card-text"
                                   style="max-lines: 2; overflow: hidden"><i
                                        class="fa-solid fa-location-dot"></i> {{ vendor.user_profile.full_address }}</p>
                            </div>
                            <div>
                                <a href="{% url 'vendor_detail' vendor_slug=vendor.vendor_slug category_slug='all' %}"
                                   class="btn btn-danger">Xem Thực
                                    Đơn</a>
                            </div>
                        </div>
                    {% else %}
                        <div class="card col-4 d-flex flex-column justify-content-between p-2"
                             style="width: 18rem;">
                            <img src="{% static 'images/default-profile.png' %}" class="card-img-top"
                                 alt="{{ vendor.vendor_name }}"
                                 title="{{ vendor.vendor_name }}">
                            <div class="card-body">
                                <h5 class="card-title">{{ vendor.vendor_name }}</h5>
                                <p class="card-text"
                                   style="max-lines: 3; overflow: hidden"><i
                                        class="fa-solid fa-location-dot"></i> {{ vendor.user_profile.full_address }}
                                </p>
                            </div>
                            <div>
                                <a href="#" class="btn btn-danger">Xem Thực Đơn</a>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}